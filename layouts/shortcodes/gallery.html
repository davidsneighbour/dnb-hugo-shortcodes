{{ $gallery := .Get "gallery" | default "gallery" }}
{{ $galleryid := .Get "id" | default (partial "func/getRandomString" . ) }}
{{ $images := $.Page.Resources.Match (printf "%s/*" $gallery) }}
<div id="{{ $galleryid }}" class="carousel{{ with .Get "dark" }} carousel-dark{{ end }} slide{{ with .Get "crossfade" }} carousel-fade{{ end }}" data-bs-ride="carousel">
  <ol class="carousel-indicators">
    {{- with $images -}}
      {{- range $index, $element := . -}}
        <li data-bs-target="#{{ $galleryid }}" data-bs-slide-to="{{ $index }}"{{ if (eq $index 0) }} class="active"{{ end }}></li>
      {{- end -}}
    {{- end -}}
  </ol>
  <div class="carousel-inner">
    {{- with $images -}}
      {{- range $index, $element := . -}}
        <div class="carousel-item{{ if (eq $index 0) }} active{{ end }}">
{{/*          <img class="d-block w-100" src="{{ $element.RelPermalink }}" alt="{{ $element.Title }}"{{ with $element.params.intervall }} data-bs-interval="{{ . }}"{{ end }}/>*/}}
          <img class="d-block w-100" src="{{ $element.RelPermalink }}" alt="{{ $element.Title }}" />
{{/*          {{ with $element.params.caption }}*/}}
{{/*            <div class="carousel-caption d-none d-md-block">*/}}
{{/*              {{ with $element.params.captiontitle }}<h5>{{ . }}</h5>{{ end }}*/}}
{{/*            <p>{{ . }}</p>*/}}
{{/*          </div>*/}}
{{/*          {{ end }}*/}}
        </div>
      {{- end -}}
    {{- end -}}
  </div>
  <a class="carousel-control-prev" href="#{{ $galleryid }}" role="button" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </a>
  <a class="carousel-control-next" href="#{{ $galleryid }}" role="button" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </a>
</div>
